---
import { getCollection } from "astro:content";
import WikiLayout from "../../layouts/WikiLayout.astro";
import WikiCardGrid from "../../components/WikiCardGrid.astro";

const BASE = import.meta.env.BASE_URL.replace(/\/+$/, "");

const pages = (await getCollection("gameWiki", ({ data }) => !data.draft))
  .sort((a, b) => (a.data.title ?? "").localeCompare(b.data.title ?? ""));

const crumbs = [ "game" ];
---

<WikiLayout
  title="ゲームWiki"
  wikiName="ゲームWiki"
  wikiLabel="game"
  description="好きなゲームの話やちょっと便利な知識を載せています"
  crumbs={crumbs}
>
  <WikiCardGrid basePath={`${BASE}/game/`} pages={pages} />
</WikiLayout>
